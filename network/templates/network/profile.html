{% extends "network/layout.html" %}

{% block body %}
<div class="side-main"> 
	<div class="top-fixed">
		<a href="#" class="link-home">{{header}}</a>
	</div>
  	<div class="profile-top">
		<div class="profile-user">
			<i class="fas fa-user-circle"></i>
		</div>
		<div>
			<div class="profile-username">
				<span>{{profile_user}}</span>
			</div>
			<div class="profile-joined-date">
				<i class="fas fa-calendar-alt"></i><span>{{profile_user.date_joined}}</span>
			</div>
			<div class="profile-following">
				<div>
					<span id="followees">{{followees}}</span><p><a href="{% url 'followers' profile_user.id 'following' %}">Following</a></p>
				</div>
				<div>
					<span id="followers">{{followers}}</span><p><a href="{% url 'followers' profile_user.id 'followers' %}">Followers</a></p>
				</div>
				<div style="display: flex; margin-left: auto;">
					{% if is_following != None %}
						<div id="unfollow-div" class="unfollow-button" style="{% if is_following %} display: block; {% else %} display: none; {% endif %}">
							<button data-id = "{{profile_user.id}}" onclick="unfollow_user(this.dataset.id);"><span style="margin-right: 0px;">Following</span></button>
						</div>
		
						<div id="follow-div" class="follow-button" style="{% if is_following == False %} display: block; {% else %} display: none; {% endif %}">
							<button data-id = "{{profile_user.id}}" onclick="follow_user(this.dataset.id);"><span style="margin-right: 0px;">Follow</span></button>
						</div>
					{% endif %}
					
					
				</div>
			</div>
		</div>
  	</div>
	  <div class="pagination-container">
		<nav aria-label="Page navigation example">
			<ul class="pagination">
				{% if page.has_previous %}
					<li class="page-item" >
						<a class="page-link" href="?page={{ page.previous_page_number }}" aria-label="Previous">
							<span aria-hidden="true">&laquo;</span>
							<span class="sr-only">Previous</span>
						</a>
					</li>
				{% else %}
					<li class="page-item disabled" >
						<a class="page-link" href="#" aria-label="Previous">
							<span aria-hidden="true">&laquo;</span>
							<span class="sr-only">Previous</span>
						</a>
					</li>
				{% endif %}
			  
				<li class="page-item" style="padding-top: 5px;">Page {{ page.number }} of {{page.paginator.num_pages }}</li>					
			{% if page.has_next %}
				<li class="page-item">
					<a class="page-link" href="?page={{ page.next_page_number }}" aria-label="Next">
						<span aria-hidden="true">&raquo;</span>
						<span class="sr-only">Next</span>
					</a>
				</li>
			{% else %}
				<li class="page-item disabled">
					<a class="page-link" href="#" aria-label="Next">
						<span aria-hidden="true">&raquo;</span>
						<span class="sr-only">Next</span>
					</a>
				</li>
			{% endif %}
					
			</ul>
		  </nav>
	</div>
	<div class="post-container disable-scrollbars" style="height: 500px;">
		{% for post in page.object_list %}
			<div class="post">
				<div class="post-user">
					<i class="fas fa-user-circle"></i>
				</div>
				<div class="post-content">
					<div class="post-username">
						<span>{{post.user}}</span>
					</div>
					<div class="post-text">
						<p>{{post.post}}</p>
					</div>
					<div class="post-buttons">
						<div class="post-button">
							<a id="like-{{post.id}}" data-post="{{post.id}}" onclick="like_post(this)"><i class="far fa-heart {% if post.is_liked != None %} {% if post.is_liked %} post-like-active {% endif %}{% endif %}"></i></a>
							<span id="likes-{{post.id}}">{{post.likes}}</span>
						</div>
						<div class="post-button">
							<a id="dislike-{{post.id}}" data-post="{{post.id}}" onclick="dislike_post(this)"><i class="fas fa-heart-broken {% if post.is_liked != None %} {% if post.is_liked == False %} post-like-active {% endif %}{% endif %}"></i></a>
							<span id="dislikes-{{post.id}}">{{post.dislikes}}</span>
						</div>
					</div>
				</div>
			</div>
		{% empty %}
			<div style="display: flex; height: 100%; justify-content: center; align-items: center;">
				<span style="color: white; font-size: 30px;">No Posts available</span>
			</div>
		{% endfor %}
  </div>
</div>
	{{ user.serialize|json_script:"user" }}
{% endblock %}